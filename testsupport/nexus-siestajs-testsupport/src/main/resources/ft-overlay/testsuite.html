<!--

    Sonatype Nexus (TM) Open Source Version
    Copyright (c) 2008-2015 Sonatype, Inc.
    All rights reserved. Includes the third-party code listed at http://links.sonatype.com/products/nexus/oss/attributions.

    This program and the accompanying materials are made available under the terms of the Eclipse Public License Version 1.0,
    which accompanies this distribution and is available at http://www.eclipse.org/legal/epl-v10.html.

    Sonatype Nexus (TM) Professional Version is available from Sonatype, Inc. "Sonatype" and "Sonatype Nexus" are trademarks
    of Sonatype, Inc. Apache Maven is a trademark of the Apache Software Foundation. M2eclipse is a trademark of the
    Eclipse Foundation. All other trademarks are the property of their respective owners.

-->
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Nexus FT Harness</title>

  <link rel="stylesheet" type="text/css"
        href="http://cdn.sencha.com/ext/gpl/5.1.0/packages/ext-theme-crisp/build/resources/ext-theme-crisp-all.css"/>
  <link rel="stylesheet" type="text/css"
        href="testsuite-lib/siesta/resources/css/siesta-all.css">

  <script type="text/javascript" src="http://cdn.sencha.com/ext/gpl/5.1.0/build/ext-all.js"></script>
  <script type="text/javascript" src="testsuite-lib/siesta/siesta-all.js"></script>
  <script type="text/javascript" src="testsuite-lib/NX/TestHarness.js"></script>
  <script type="text/javascript" src="testsuite-lib/NX/TestClass.js"></script>

  <style>
    body {
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      background-color: #ffffff;
      margin: 0;
      padding: 0;
    }
    .loading-header {
      text-align: center;
      padding: 10px;
      font-size: large;
    }
  </style>
</head>
<body>
<div class="loading-header">
  Loading <strong>Nexus FT Harness</strong>...
</div>

<script type="text/javascript">
  // parse query-string
  function parseQuery(qstr) {
    var query = {};
    var a = qstr.split('&');
    for (var i in a) {
      var b = a[i].split('=');
      query[decodeURIComponent(b[0])] = decodeURIComponent(b[1]);
    }
    return query;
  }

  // load the testsuite-<name>/harness.js script or complain
  if (window.location.search.search("[?&]name=") === -1) {
    alert('Missing parameter: name');
  }
  else {
    var params = parseQuery(window.location.search.substring(1));
    var name = params['name'];
    console.info('Name:', name);
    document.write('<script type="text/javascript" src="testsuite-' + name + '/harness.js"><\/script>');
  }
</script>
</body>
</html>
